# TFT Match Analysis Application Environment Configuration
# Copy this file to .env and configure your settings

# ============================================================================
# ENVIRONMENT SETTINGS
# ============================================================================

# Application environment (development, production)
ENVIRONMENT=development

# Debug mode (true/false) - automatically disabled in production
DEBUG=true

# Heroku deployment flag (set automatically by Heroku)
# HEROKU=false
# DYNO=

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Option 1: Database URL (preferred for production/Heroku)
# Single connection string that overrides individual settings
# Format: postgresql://username:password@host:port/database?sslmode=require
# DATABASE_URL=postgresql://user:password@localhost:5432/database

# Option 2: Individual Database Settings (for development)
DB_HOST=localhost
DB_PORT=6432
DB_NAME=tft_matches
DB_USER=tft_user
DB_PASSWORD=tft_password

# Option 3: Supabase Configuration
# If using Supabase, provide these instead of regular DB settings
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_ANON_KEY=your-anon-key
# SUPABASE_DB_HOST=db.your-project.supabase.co
# SUPABASE_DB_PORT=5432
# SUPABASE_DB_NAME=postgres
# SUPABASE_DB_USER=postgres
# SUPABASE_DB_PASSWORD=your-db-password

# ============================================================================
# DATABASE CONNECTION SETTINGS
# ============================================================================

# Connection pooling settings
DB_USE_POOLING=true
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# SSL Configuration
DB_SSL_MODE=prefer
# DB_SSL_CERT=/path/to/client-cert.pem
# DB_SSL_KEY=/path/to/client-key.pem
# DB_SSL_CA=/path/to/ca-cert.pem

# Connection retry settings
DB_MAX_RETRIES=3
DB_RETRY_DELAY=1.0

# Query timeout settings (in milliseconds)
DB_STATEMENT_TIMEOUT=300000
DB_IDLE_TIMEOUT=60000

# ============================================================================
# RIOT GAMES API CONFIGURATION
# ============================================================================

# Riot Games API Key (required for data collection)
RIOT_API_KEY=your_riot_api_key_here

# API rate limiting settings
RIOT_API_RATE_LIMIT_REQUESTS=100
RIOT_API_RATE_LIMIT_SECONDS=120

# Default region for API calls
RIOT_API_DEFAULT_REGION=na1

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Application name (appears in database connections)
APP_NAME=tft_match_analysis

# Default database schema
DB_SCHEMA=public

# Logging configuration
LOG_LEVEL=INFO
LOG_FILE=app.log

# ============================================================================
# STREAMLIT CONFIGURATION
# ============================================================================

# Streamlit app settings
STREAMLIT_PORT=8501
STREAMLIT_HOST=0.0.0.0

# Streamlit theme
STREAMLIT_THEME_PRIMARY_COLOR=#FF6B6B
STREAMLIT_THEME_BG_COLOR=#FFFFFF
STREAMLIT_THEME_SECONDARY_BG_COLOR=#F0F2F6
STREAMLIT_THEME_TEXT_COLOR=#262730

# ============================================================================
# CACHING CONFIGURATION
# ============================================================================

# Redis settings (optional, for caching)
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Cache timeouts (in seconds)
CACHE_TIMEOUT_SHORT=300
CACHE_TIMEOUT_MEDIUM=1800
CACHE_TIMEOUT_LONG=3600

# ============================================================================
# ANALYTICS AND MONITORING
# ============================================================================

# Analytics settings
ENABLE_ANALYTICS=true
ANALYTICS_RETENTION_DAYS=90

# Performance monitoring
ENABLE_PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD_MS=1000

# Error tracking (optional)
# SENTRY_DSN=your_sentry_dsn_here

# ============================================================================
# CLUSTERING CONFIGURATION
# ============================================================================

# Default clustering parameters
DEFAULT_CLUSTERING_ALGORITHM=hierarchical
DEFAULT_N_CLUSTERS=10
DEFAULT_MIN_CLUSTER_SIZE=5

# Feature weights for clustering
TRAIT_WEIGHT=0.6
UNIT_WEIGHT=0.3
AUGMENT_WEIGHT=0.1

# ============================================================================
# DATA PROCESSING SETTINGS
# ============================================================================

# Batch processing settings
BATCH_SIZE=1000
MAX_CONCURRENT_REQUESTS=10

# Data validation settings
VALIDATE_DATA_ON_INSERT=true
AUTO_CLEAN_INVALID_DATA=false

# Automatic refresh intervals (in minutes)
META_ANALYSIS_REFRESH_INTERVAL=30
MATERIALIZED_VIEW_REFRESH_INTERVAL=60

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# Session settings
SESSION_TIMEOUT=3600
SESSION_SECRET_KEY=your_secret_key_here

# API security
API_KEY_REQUIRED=false
API_RATE_LIMIT=1000

# CORS settings
CORS_ALLOWED_ORIGINS=*
CORS_ALLOW_CREDENTIALS=true

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================

# Development database settings (when ENVIRONMENT=development)
DEV_DB_HOST=localhost
DEV_DB_PORT=6432
DEV_DB_NAME=tft_matches
DEV_DB_USER=tft_user
DEV_DB_PASSWORD=tft_password

# Development features
DEV_ENABLE_DEBUG_TOOLBAR=true
DEV_ENABLE_SQL_ECHO=false
DEV_AUTO_RELOAD=true

# Test database settings
TEST_DB_NAME=tft_matches_test
TEST_DB_USER=tft_test_user
TEST_DB_PASSWORD=tft_test_password

# ============================================================================
# HEROKU SPECIFIC SETTINGS
# ============================================================================

# These are typically set automatically by Heroku
# Include them here for reference

# PORT=8501
# WEB_CONCURRENCY=4
# DYNO=web.1

# Heroku Postgres settings (set automatically)
# HEROKU_POSTGRESQL_COLOR_URL=postgresql://...

# ============================================================================
# DOCKER DEVELOPMENT SETTINGS
# ============================================================================

# Docker Compose settings
COMPOSE_PROJECT_NAME=tft_match_analysis

# Database container settings
POSTGRES_USER=tft_user
POSTGRES_PASSWORD=tft_password
POSTGRES_DB=tft_matches

# PgBouncer settings
PGBOUNCER_POOL_MODE=transaction
PGBOUNCER_MAX_CLIENT_CONN=100
PGBOUNCER_DEFAULT_POOL_SIZE=20

# ============================================================================
# EXAMPLE PRODUCTION CONFIGURATION
# ============================================================================

# Example production settings - uncomment and modify as needed
# ENVIRONMENT=production
# DEBUG=false
# DB_SSL_MODE=require
# DB_POOL_SIZE=10
# DB_MAX_OVERFLOW=20
# DATABASE_URL=postgresql://user:password@host:5432/database?sslmode=require

# ============================================================================
# NOTES
# ============================================================================

# 1. Never commit your actual .env file to version control
# 2. Use strong passwords and API keys in production
# 3. Enable SSL in production environments
# 4. Adjust connection pool sizes based on your server capacity
# 5. Set appropriate timeouts for your use case
# 6. Monitor your database connections and adjust settings as needed
# 7. For Heroku deployment, use DATABASE_URL instead of individual settings
# 8. For Supabase, use the provided connection details
# 9. Test your configuration with: python setup_database.py test
# 10. Use environment-specific .env files (.env.production, .env.development)